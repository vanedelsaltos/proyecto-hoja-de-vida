{% extends "base.html" %}

{% block contenido %}

<div class="header-section" style="margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center;">
    <div>
        <h2 class="decorative" style="margin: 0;">Panel de Administraci√≥n</h2>
        <p style="color: #888; margin: 5px 0 0 5px;">Bienvenida, <strong>{{ user.username }}</strong></p>
    </div>
    

</div>

<div class="section-box">
    
    <div style="text-align: center; padding: 10px 0 30px 0;">
        <p style="color: var(--accent-soft); font-weight: 700; font-size: 0.9rem; letter-spacing: 2px; text-transform: uppercase;">
            M√≥dulos de Gesti√≥n
        </p>
    </div>

    <div class="bento-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px;">
        
        <a href="{% url 'lista_perfiles' %}" class="menu-card">
            <span class="icon">üë§</span>
            <span class="label">Perfiles</span>
        </a>

        <a href="{% url 'experiencia' %}" class="menu-card">
            <span class="icon">üíº</span>
            <span class="label">Experiencia</span>
        </a>

        <a href="{% url 'reconocimientos_lista' %}" class="menu-card">
            <span class="icon">üèÜ</span>
            <span class="label">Premios</span>
        </a>

        <a href="{% url 'cursos_realizados' %}" class="menu-card">
            <span class="icon">üéì</span>
            <span class="label">Cursos</span>
        </a>

        <a href="{% url 'productos_academicos' %}" class="menu-card">
            <span class="icon">üìö</span>
            <span class="label">Acad√©micos</span>
        </a>

        <a href="{% url 'productos_laborales' %}" class="menu-card">
            <span class="icon">üõ†Ô∏è</span>
            <span class="label">Laborales</span>
        </a>

        <a href="{% url 'venta_garage' %}" class="menu-card">
            <span class="icon">üè∑Ô∏è</span>
            <span class="label">Garage</span>
        </a>

        <a href="#" class="menu-card btn-pdf-admin" style="border-color: #d1e7ff; background: #f0f7ff;">
            <span class="icon">üñ®Ô∏è</span>
            <span class="label" style="color: #0056b3;">Generar PDF</span>
        </a>


    </div>

</div>

<style>
    .menu-card {
        background: white;
        border: 2px solid #f5e6e3;
        padding: 25px 15px;
        border-radius: 20px;
        text-decoration: none;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: center;
    }

    .menu-card .icon { font-size: 2.2rem; }
    .menu-card .label {
        font-weight: 800;
        color: var(--accent-dark);
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .menu-card:hover {
        transform: translateY(-5px);
        border-color: var(--accent-soft);
        box-shadow: 0 10px 20px rgba(179, 139, 130, 0.15);
        background: #fffcfb;
    }

    .btn-logout-small {
        text-decoration: none;
        background: #fff5f5;
        color: #a51d2d;
        padding: 10px 18px;
        border-radius: 12px;
        font-size: 0.85rem;
        font-weight: 700;
        border: 1px solid #f5d7d7;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .btn-logout-small:hover {
        background: #a51d2d;
        color: white;
    }
</style>



<!-- Modal de selecci√≥n de secciones PDF (Admin) -->
<div id="modal-secciones-pdf-admin" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h2 style="margin-bottom: 20px;">Seleccionar Secciones para PDF</h2>
        <form id="form-secciones-pdf-admin">
            <div>
                <input type="checkbox" id="experiencia_admin" name="experiencia" checked>
                <label for="experiencia_admin">Incluir Experiencia</label>
            </div>
            <div>
                <input type="checkbox" id="cursos_admin" name="cursos" checked>
                <label for="cursos_admin">Incluir Cursos/T√≠tulos</label>
            </div>
            <div>
                <input type="checkbox" id="reconocimientos_admin" name="reconocimientos" checked>
                <label for="reconocimientos_admin">Incluir Logros</label>
            </div>
            <div>
                <input type="checkbox" id="productos_academicos_admin" name="productos_academicos" checked>
                <label for="productos_academicos_admin">Incluir Prod. Acad√©micos</label>
            </div>
            <div>
                <input type="checkbox" id="productos_laborales_admin" name="productos_laborales" checked>
                <label for="productos_laborales_admin">Incluir Proyectos</label>
            </div>
            <div>
                <input type="checkbox" id="ventas_admin" name="ventas" checked>
                <label for="ventas_admin">Incluir Venta Garage</label>
            </div>

            <div style="margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button type="button" class="btn-cancelar" style="padding: 8px 16px; border-radius: 10px; background:#f5f5f5; border:none;">Cancelar</button>
                <button type="submit" style="padding: 8px 16px; border-radius: 10px; background:#0056b3; color:white; border:none;">Generar PDF</button>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const modal = document.getElementById("modal-secciones-pdf-admin");
    const btnGenerar = document.querySelector(".btn-pdf-admin");
    const btnCerrar = modal.querySelector(".modal-close");
    const btnCancelar = modal.querySelector(".btn-cancelar");
    const form = document.getElementById("form-secciones-pdf-admin");

    // Abrir modal
    btnGenerar.addEventListener("click", function(e) {
        e.preventDefault();
        modal.style.display = "flex";
    });

    // Cerrar modal
    btnCerrar.addEventListener("click", () => modal.style.display = "none");
    btnCancelar.addEventListener("click", () => modal.style.display = "none");

    // Enviar formulario al PDF
    form.addEventListener("submit", function(e) {
        e.preventDefault();
        const params = new URLSearchParams();
        form.querySelectorAll("input[type=checkbox]").forEach(cb => {
            if(cb.checked) {
                params.append(cb.name, "on");
            }
        });
        window.open("{% url 'imprimir_hoja_de_vida' %}?" + params.toString(), "_blank");
        modal.style.display = "none";
    });

    // Cerrar si clic fuera del contenido
    window.addEventListener("click", function(e){
        if(e.target == modal){
            modal.style.display = "none";
        }
    });
});
</script>



{% endblock %}